# 3.1. Работа в терминале, лекция 1 — Алексей Храпов
> 1. Установите средство виртуализации Oracle VirtualBox.

Средство виртуализации `Oracle VirtualBox` было установлено.

> 2. Установите средство автоматизации Hashicorp Vagrant.

Средство `Hashicorp Vagrant` было установлено.
 
> 3. В вашем основном окружении подготовьте удобный для дальнейшей работы терминал.

Т.к. моя рабочая ОС - Windows 10, был выбран `Windows Terminal`

> 4. С помощью базового файла конфигурации запустите Ubuntu 20.04 в VirtualBox посредством Vagrant.

Виртуальная машина под управлением Ubuntu 20.04 была запущена в VirtualBox посредством Vagrant с указанной в задании конфигурацией.
 
> 5. Ознакомьтесь с графическим интерфейсом VirtualBox, посмотрите как выглядит виртуальная машина, которую создал для вас Vagrant, какие аппаратные ресурсы ей выделены. Какие ресурсы выделены по-умолчанию?
 
Для виртуальной машины были выделены следующие ресурсы:

- 1024 Мб оперативной памяти;
- 2 процессора;
- Жесткий диск объемом 64 Гб (интерфейс SATA);
- Графический процессор с 4 Мб памяти.

> 6. Ознакомьтесь с возможностями конфигурации VirtualBox через Vagrantfile: документация. Как добавить оперативной памяти или ресурсов процессора виртуальной машине?

Для добавления оперативной памяти и/или ресурсов процессора через изменениме `Vagrantfile` можно использовать команды утилиты `VBoxManage`:
```bash
config.vm.provider "virtualbox" do |v|
	v.memory = "2048"
	v.cpu = "4"
end
```
Эта конфигурация позволит виртуальной машине запуститься уже с 2 Гб оперативной памети и 4 процессорами (по умолчанию объем оперативной памяти и количество процессоров в 2 раза меньше).

> 7. Команда vagrant ssh из директории, в которой содержится Vagrantfile, позволит вам оказаться внутри виртуальной машины без каких-либо дополнительных настроек. Попрактикуйтесь в выполнении обсуждаемых команд в терминале Ubuntu.

Произведено подключение к виртуальной машине указанным способом. Повторен ввод команд, упомянутых в лекции.

> 8.  Ознакомиться с разделами man bash, почитать о настройках самого bash:
 > - какой переменной можно задать длину журнала history, и на какой строчке manual это описывается?

Задать длину журнала можно переменной `HISTSIZE`, описание переменной начинается с 862 строки, понять, что именно эта переменная отвечает за длину журнала `history` можно по упомянанию на строчке 851.

 > - что делает директива ignoreboth в bash?

Директива `ignoreboth` позволяет исключить из истории строки, начинающиеся с символа пробела и строки, совпадающие с выполненной командой (уже имеющейся в истории).
Иными словами, она сочетает в себе действие директив `ignorespace` и `ignoredups`.

> 9. каких сценариях использования применимы скобки {} и на какой строчке man bash это описано?

Фигурные скобки `{}` - зарезервированные слова, список, используются в условных циклах, условных операторах, ограничивают тело функции, в командах выполняет подстпновку из списка (циклично выполняет команду с подстановкой элементов списка).
Например, `mdadm --zero-superblock --force /dev/vd{b,c}` "зануляет" все суперблоки на дисках vdb и vdc.
Зарезервированные слова (RESERVED WORDS) - строка 174.

> 10. С учётом ответа на предыдущий вопрос, как создать однократным вызовом touch 100000 файлов? Получится ли аналогичным образом создать 300000? Если нет, то почему?

Однократным вызовом touch создать 100000 файлов можно следующим образом: `touch {1..100000}` (или для удобства просмотре результата touch {000001..100000})
300000 файлов создать не получится, т.к. слишком длинный список аргументов.
Эмпирическим путем удалось установить, что максимальное количество фалов 147054.

> 11. В man bash поищите по /\[\[. Что делает конструкция [[ -d /tmp ]]

Данная конструкция проверяет существование каталога /tmp и возвращает 0 или 1, в зависимости от результата.

> 12. Основываясь на знаниях о просмотре текущих (например, PATH) и установке новых переменных; командах, которые мы рассматривали, добейтесь в выводе type -a bash в виртуальной машине наличия первым пунктом в списке:
> ```bash
> bash is /tmp/new_path_directory/bash
> bash is /usr/local/bin/bash
> bash is /bin/bash
> ```
> (прочие строки могут отличаться содержимым и порядком) В качестве ответа приведите команды, которые позволили вам добиться указанного вывода или соответствующие скриншоты.

```bash
vagrant@vagrant:~/test$ cp /bin/bash /tmp/new_path_directory/
vagrant@vagrant:~/test$ PATH=/tmp/new_path_directory/:$PATH
vagrant@vagrant:~/test$ type -a bash
bash is /tmp/new_path_directory/bash
bash is /usr/bin/bash
bash is /bin/bash
```

> 13. Чем отличается планирование команд с помощью batch и at?

`at` выполняет команды в указанное время, а `batch` когда позволяет уровень загрузки системы (когда средняя загрузка падает ниже 1.5 или значения, указанного при вызове задания в очереди).

> 14. Завершите работу виртуальной машины чтобы не расходовать ресурсы компьютера и/или батарею ноутбука.

```bash
vagrant halt
```